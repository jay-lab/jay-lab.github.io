---
layout: single
title: "[AWS] VPC, Bastion Host와 NAT Gateway"
categories: [AWS]
tag: [VPC, TIL]
#toc: true
#toc_label: "Contents" # toc 제목
#toc_icon: "cog" # toc 아이콘(톱니바퀴)
author_profile: false
sidebar:
    nav: "docs"
---



**AWS VPC, Bastion Host와 NAT Gateway** 
{: .notice--info}



## VPC 구성도

(※ 기초적인 구성도)

![youtu.be-lqnncuQgz28](../../images/2022-11-14-AWS-VPC/youtu.be-lqnncuQgz28.jpg)

내부에서만 서비스하면 되는 데이터베이스 같은 것들은 통상적으로 Private subnet에 위치시킨다.  
다만, 인터넷이 연결되어있지 않기 때문에 Bastion Host, NAT Gateway를 사용.

- 데이터베이스 업데이트
- 데이터 조작
- 패치 진행 등



![youtu.be-lqnncuQgz28 (1)](../../images/2022-11-14-AWS-VPC/youtu.be-lqnncuQgz28%20(1).jpg)

Bastion Host, NAT Gateway는 일종의 '프라이빗 서브넷 내에 있는 EC2가 외부와 통신하기위해 사용되는 대변인' 같은 개념

NAT Instance는 EC2와 같은 서버라서 꺼지면 죽어버리고, 서버 타입(크기)에 따라 최대 트래픽 처리량이 결정되는데,

NAT Gateway는 서비스이기 때문에 서비스가 중단될 일이 없으며, 고가용성(5G~45G/s 범위의 유연함)